# 衣橱 应用 — 用户教程

本指南介绍如何使用 **衣橱** 应用的主要功能，包括：

- 成员选择与管理  
- 添加衣物  
- 基于 NFC 的导航  
- AI 自动填充  
- 数据统计与转移记录  

可在标注的位置插入截图。

---

# 1. 应用概览

衣橱 是一款为共享衣物储存的家庭设计的应用。  
主要功能包括：

- 多成员管理  
- 基于 NFC 的智能储物  
- AI 自动识别衣物属性  
- 标签、分类、季节、保暖等级管理  
- 统计与衣物分析  
- 成员之间的衣物转移  
- 基于天气的穿衣推荐  

---

# 2. 成员选择界面（启动页）

首次打开应用时，会看到 **成员选择界面**。  
如果还没有成员，界面会显示：

> 尚无成员，请先添加！

顶部显示：

- 页面标题：**首页**  
- 大按钮 **“添加新成员”**  
- 顶部天气栏（温度 + 图标）  
- 左上角抽屉菜单图标  

<p align="center">
  <img src="https://github.com/user-attachments/assets/3c0c3dbf-74e6-4a1a-a6e8-8e2a6e9eb89b" width="240">
</p>

在这个界面可以：

- 添加新成员  
- 选择已有成员（创建后）  
- 打开抽屉进入其他功能页面  

---

## 2.1 添加新成员

点击 **“添加新成员”**：

可输入：

- 姓名  
- 性别  
- 年龄  
- （可选）生日  

如果年龄小于 18，可能需要填写生日（视验证规则而定）。

保存后：

- 新成员将出现在列表中  
- 你可以选择他作为 **当前活跃成员**

<p align="center">
  <img src="https://github.com/user-attachments/assets/1fabf265-795c-4db7-bb42-3810db07b749" width="240">
</p>

---

## 2.2 选择活跃成员

在成员选择界面：

1. 点击某个成员  
2. 他就成为 **当前活跃成员**  
3. 应用会跳转至该成员的衣物页面

当前成员会用于：

- 首页 / 衣物清单  
- 统计页面  
- 穿衣推荐  
- 衣物转移  

---

# 3. 抽屉（侧边导航栏）

应用在几乎所有页面都能从左上角打开 **抽屉导航**。

抽屉提供快速访问这些功能：

- **首页** – 当前成员的衣物清单  
- **成员** – 成员选择与管理  
- **统计** – 统计图表  
- **设置** – 设置页面  
- **管理员模式** 开关  
- **AI模式** 开关  
- **深色模式** 开关  

<p align="center">
  <img src="https://github.com/user-attachments/assets/4d919f77-1e90-44f5-912f-ca02d7e093a1" width="240">
</p>

### 3.1 抽屉功能介绍

#### 首页
进入当前成员的衣物清单页面。

#### 成员
打开 **成员选择界面**，方便快速切换家庭成员。

#### 统计
打开统计页面，可查看：

- 衣物转移历史  
- 衣物库存分析  

#### 设置
进入设置页面，包含 NFC 绑定等高级功能。

---

### 3.2 抽屉中的模式开关

以下全局开关都在 **抽屉中**（不是设置）：

#### 管理员模式
允许执行高权限操作（如删除仍有衣物的储物位置）。  
普通用户无法执行这些操作。

#### AI模式
启用或关闭 AI 自动识别。  
关闭后添加衣物时不会触发 AI。

#### 深色模式
在亮色与深色主题之间切换。

---

选择成员并通过抽屉探索功能后，即会进入 首页 页面作为主要使用界面。

# 4. 首页 / 衣物清单

选择成员后会进入 **首页 / 衣物清单** 页面。  
这里可以：

- 查看当前成员所有衣物  
- 滚动与筛选  
- 打开抽屉导航  
- 添加衣物

<p align="center">
  <img src="https://github.com/user-attachments/assets/839b6656-274f-49ad-88d9-784a06d6f3e3" width="240">
</p>

---

## 4.1 添加衣物

在首页点击 **添加衣物** 按钮。

可填写：

- 描述  
- 分类  
- 保暖等级  
- 使用场合  
- 颜色  
- 尺码标签  
- 季节  
- 收藏标记  
- 标签  
- （可选）储物位置  

<p align="center">
  <img src="https://github.com/user-attachments/assets/e98387fd-24c2-413f-982d-1fe8305cb784" width="240">
</p>

---

## 4.2 AI 自动填充（可选）

如果已启用 AI 模式：

1. 上传或拍摄衣物照片  
2. 应用将图片发送到 Gemini  
3. 系统会自动推荐：  
   - 分类  
   - 保暖等级  
   - 颜色  
   - 季节  

保存前用户可手动修改所有字段。

---

# 5. NFC 智能储物

应用支持将 **实际储物位置（箱子、柜子、抽屉）** 与 **NFC 标签** 绑定。

## 5.1 绑定 NFC 标签到某储物位置

步骤：

1. 在抽屉打开 **设置**  
2. 进入 **添加新 NFC 标签** 模式（绑定新贴纸）  
3. 扫描 NFC 标签  
4. 选择该标签对应的储物位置  
5. 确认绑定  

<p align="center">
  <img src="https://github.com/user-attachments/assets/8fd57a2b-1c56-4e40-82e9-7cf7ecf44429" width="240">
</p>

绑定后，标签会保存到数据库并与位置关联。

---

## 5.2 扫描 NFC 跳转至储物位置

当应用处于前台，且 **NFC 模式为 Idle**：

1. 扫描已绑定的 NFC 标签  
2. 应用查找对应的储物位置 ID  
3. `MainViewModel` 设置导航请求  
4. 自动跳转到该 **位置页面**  

---

# 6. 储物位置页面

储物位置页面显示：

- 位置名称 / 描述  
- 存放衣物的缩略图  

可以：

- 查看此位置中所有衣物  

<p align="center">
  <img src="https://github.com/user-attachments/assets/37d05683-23c8-447a-91bc-d3107541f970" width="240">
</p>

---

# 7. 衣物详情与跨成员转移

从衣物列表或储物位置页面：

1. 点击某件衣物 → 进入 **物品详情**  
2. 可编辑信息 / 收藏 / 移动位置  

要将衣物 **转移到其他成员**：

1. 打开详情页面  
2. 点击 **转移**  
3. 选择目标成员  
4. 确认  

系统会：

- 更新衣物所属成员  
- 记录转移历史  
- 在 转移记录 页面显示  

<p align="center">
  <img src="https://github.com/user-attachments/assets/0e77887d-971c-44dd-af1c-dba739db1108" width="240">
  <img src="https://github.com/user-attachments/assets/759c55ce-d5b3-4b2a-ae71-9e0ed543a5da" width="240">
</p>

---

# 8. 统计页面

统计页面显示当前成员的衣物概览：

- 分类分布  
- 季节分布  
- 成员分布  

所有图表自动从数据库更新。

<p align="center">
  <img src="https://github.com/user-attachments/assets/7198f68a-b690-4b36-b379-ec7354a89e19" width="240">
  <img src="https://github.com/user-attachments/assets/c5222395-d08b-45ba-915d-a81eb45e1475" width="240">
  <img src="https://github.com/user-attachments/assets/3e74dc3d-4301-4cc7-8a31-f1a0ce3abb04" width="240">
</p>

---

# 9. 设置页面

设置页面包括：

- 修改管理员 PIN（若实现）  
- 切换 **NFC 绑定模式**  

<p align="center">
  <img src="https://github.com/user-attachments/assets/866ddada-b9fa-45d6-bcfc-e2c97f5a8663" width="240">
</p>

---

# 10. 使用技巧

- 启动应用时务必选择正确的 **当前成员**  
- 实体储物箱贴 NFC 贴纸，可快速定位内容  
- AI 自动识别可显著加快添加衣物流程  
- 孩子长大后可使用“转移”功能把衣物交给弟弟妹妹  
- 通过统计页面可快速了解缺少的衣物类型  

---

# 11. 相关文档

- **项目 README：** [README.md](./README.md)  
- **单元测试与覆盖率：** [TESTING.md](./TESTING.md)  

本教程从 **成员选择界面** 开始，完整介绍了 衣橱 的所有核心功能。
